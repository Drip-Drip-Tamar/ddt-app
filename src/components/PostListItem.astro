---
import ResponsiveImage from '@components/ResponsiveImage.astro';

interface Props {
    title: string;
    body: string;
    image?: any;
    author?: string;
    date?: string;
    slug: string;
    class?: string;
}

const { title, body, image, author, date, slug, class: className } = Astro.props;
---

<article class:list={['group', className]}>
    <a href={`/news/${slug}`} class="block">
        <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 border border-gray-200 hover:border-primary/20">
            <div class="flex flex-col sm:flex-row">
                {/* Featured image */}
                {
                    image && (image.asset || image.src) && (
                        <figure class="w-full sm:w-64 md:w-80 flex-shrink-0 overflow-hidden bg-gray-100">
                            <ResponsiveImage
                                _id={image._id}
                                src={image.src}
                                asset={image.asset}
                                dimensions={image.dimensions}
                                alt={image.alt || title}
                                imageType="card"
                                class="w-full h-48 sm:h-full object-cover transition-transform duration-500 group-hover:scale-110"
                            />
                        </figure>
                    )
                }

                {/* Content */}
                <div class="flex-1 p-6 md:p-8 flex flex-col justify-between">
                    <div>
                        {/* Meta badges */}
                        <div class="flex flex-wrap gap-2 items-center mb-4">
                            {author && <span class="text-xs text-gray-500 uppercase tracking-wide">{`By ${author}`}</span>} -
                            {date && <span class="text-xs text-gray-500 uppercase tracking-wide">{date}</span>}
                        </div>

                        {/* Title */}
                        <h3 class="font-black text-xl sm:text-2xl md:text-3xl mb-3 group-hover:text-primary transition-colors leading-tight">
                            {title}
                        </h3>

                        {/* Excerpt */}
                        {body && <p class="text-sm sm:text-base text-gray-600 line-clamp-3 leading-relaxed mb-4">{body}</p>}
                    </div>

                    {/* Read more link */}
                    <div class="flex items-center gap-2 text-primary font-semibold text-sm sm:text-base group-hover:gap-3 transition-all">
                        <span>Read More</span>
                        <svg class="w-4 h-4 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </a>
</article>
